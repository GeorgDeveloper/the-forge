<!-- Шаблон списка событий -->
@if (events.length > 0) {
  <div class="event-list">
    @for (event of events; track event.id) {
      <div class="event-item" [class]="getEventTypeClass(event.type)" (click)="openEventModal(event)">
        <div class="event-header">
          <span class="event-title">{{ event.title }}</span>
          @if (event.priority) {
            <span class="event-priority" [class]="event.priority">
              {{ event.priority }}
            </span>
          }
          @if (event.type === 'INSTRUCTION') {
            <span class="event-type-badge instruction-badge">
              <i class="fas fa-graduation-cap"></i> {{ 'calendar.badge.instruction' | translate }}
            </span>
          }
        </div>

        <div class="event-time">
          @if (event.startTime) {
            {{ event.startTime }}
            @if (event.endTime) {
              - {{ event.endTime }}
            }
          }
        </div>

        <div class="event-description">{{ event.description }}</div>

        <!-- Дополнительная информация для инструктажей -->
        @if (event.type === 'INSTRUCTION') {
          <div class="instruction-details">
            @if (event.employeeName) {
              <div class="instruction-info">
                <i class="fas fa-user"></i> {{ 'calendar.fields.employee' | translate }}: {{ event.employeeName }}
              </div>
            }
            @if (event.professionName) {
              <div class="instruction-info">
                <i class="fas fa-briefcase"></i> {{ 'calendar.fields.profession' | translate }}: {{ event.professionName }}
              </div>
            }
            @if (event.positionName) {
              <div class="instruction-info">
                <i class="fas fa-id-card"></i> {{ 'calendar.fields.position' | translate }}: {{ event.positionName }}
              </div>
            }
            @if (event.validityPeriod) {
              <div class="instruction-info">
                <i class="fas fa-clock"></i> {{ 'calendar.fields.validityDays' | translate: { days: event.validityPeriod } }}
              </div>
            }
          </div>
        }

        @if (event.status) {
          <div class="event-status">{{ 'calendar.fields.status' | translate }}: {{ event.status }}</div>
        }
      </div>
    }
  </div>
} @else {
  <div class="no-events">{{ 'calendar.noEvents' | translate }}</div>
}
